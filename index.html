<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>POS System</title>
<style>
  body { margin:0; font-family:Arial, sans-serif; background:#fafafa; }

  /* Cashier screen */
  .cashier { padding:10px; }
  .items {
    max-height: 400px; /* taller scroll area */
    overflow-y: auto;
    border: 1px solid #ccc;
    margin-bottom: 10px;
    padding: 5px;
  }
  .item {
    background: #ffe4e1; /* pastel pink */
    color: #000;
    padding: 8px;
    margin: 5px 0;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .item:nth-child(2n) { background: #e0f7fa; } /* pastel blue */
  .item:nth-child(3n) { background: #f1f8e9; } /* pastel green */
  .item:nth-child(4n) { background: #fff3e0; } /* pastel orange */

  .totals { font-weight:bold; margin-top:10px; }

  /* Supervisor overlay */
  .supervisor-screen {
    display:none;
    position:fixed;
    top:0; left:0; width:100%; height:100%;
    background:rgba(240,240,240,0.95);
    z-index:9999;
    padding:15px;
    overflow-y:auto;
  }
  .supervisor-header { font-size:18px; font-weight:bold; margin-bottom:10px; }
  .reading {
    margin-bottom: 10px;
    font-size: 14px;
  }
  .reading button {
    font-size: 12px;
    padding: 2px 6px;
    margin-left: 5px;
    border-radius: 4px;
    background: #ddd;
    cursor: pointer;
  }
  .logs {
    font-size: 13px;
    margin-top: 10px;
  }
  .log-entry {
    background: #fff;
    margin: 3px 0;
    padding: 5px;
    border-radius: 4px;
    border: 1px solid #ccc;
  }
</style>
</head>
<body>
<div class="cashier">
  <h2>Cashier Screen</h2>
  <div class="items" id="items"></div>
  <div class="totals">
    Subtotal: <span id="subtotal">0.00</span><br>
    Total: <span id="total">0.00</span><br>
    Tender: <span id="tender">0.00</span>
  </div>
  <button onclick="addItem('Burger',50)">Add Burger</button>
  <button onclick="addItem('Fries',30)">Add Fries</button>
  <button onclick="openSupervisor()">Supervisor</button>
</div>

<div class="supervisor-screen" id="supervisor">
  <div class="supervisor-header">Supervisor</div>
  <div class="reading">
    X Reading: <span id="xReading">0.0</span>
    <button onclick="doXReading()">X Reset</button>
  </div>
  <div class="reading">
    Z Reading: <span id="zReading">0.0</span>
    <button onclick="resetZReading()">Z Reset</button>
  </div>
  <div class="logs" id="logs"></div>
  <button onclick="closeSupervisor()">Close</button>
</div>

<audio id="blip" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" preload="auto"></audio>

<script>
  let subtotal = 0;
  let xReading = 0;
  let zReading = 0;

  function playBlip(){
    const snd = document.getElementById("blip");
    snd.currentTime = 0; // reset so it plays instantly each time
    snd.play();
  }

  function addItem(name, price){
    subtotal += price;
    xReading += price;
    document.getElementById('subtotal').textContent = subtotal.toFixed(2);
    document.getElementById('total').textContent = subtotal.toFixed(2);

    const itemDiv = document.createElement('div');
    itemDiv.className = 'item';

    const label = document.createElement('span');
    label.textContent = name + " - ₱" + price.toFixed(2);

    const btn = document.createElement('button');
    btn.textContent = "❌";
    btn.style.fontSize = "14px";
    btn.style.background = "#f8d7da";
    btn.style.border = "none";
    btn.style.borderRadius = "4px";
    btn.style.cursor = "pointer";

    btn.onclick = function(){
      subtotal -= price;
      xReading -= price;
      if (subtotal < 0) subtotal = 0;
      if (xReading < 0) xReading = 0;
      document.getElementById('subtotal').textContent = subtotal.toFixed(2);
      document.getElementById('total').textContent = subtotal.toFixed(2);
      itemDiv.remove();
      playBlip();
    };

    itemDiv.appendChild(label);
    itemDiv.appendChild(btn);
    document.getElementById('items').appendChild(itemDiv);

    playBlip();
  }

  function openSupervisor(){
    document.getElementById('supervisor').style.display='block';
    document.getElementById('xReading').textContent = xReading.toFixed(1);
    document.getElementById('zReading').textContent = zReading.toFixed(1);
  }

  function closeSupervisor(){
    document.getElementById('supervisor').style.display='none';
  }

  function doXReading(){
    const logDiv = document.createElement('div');
    logDiv.className = 'log-entry';
    logDiv.textContent = "X Reading: " + xReading.toFixed(1);
    document.getElementById('logs').prepend(logDiv);

    zReading += xReading;
    xReading = 0;
    document.getElementById('xReading').textContent = "0.0";
    document.getElementById('zReading').textContent = zReading.toFixed(1);
  }

  function resetZReading(){
    zReading = 0;
    document.getElementById('zReading').textContent = "0.0";
    const logDiv = document.createElement('div');
    logDiv.className = 'log-entry';
    logDiv.textContent = "Z Reading reset";
    document.getElementById('logs').prepend(logDiv);
  }
</script>
</body>
</html>
